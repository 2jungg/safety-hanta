kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4

nodes:
  - role: control-plane

  # Capture workers
  - role: worker
    labels:
      role: capture
    extraMounts:
      - hostPath: /home/hanta/safety-hanta/videos
        containerPath: /videos
      - hostPath: /home/hanta/safety-hanta/src
        containerPath: /src_host

  # Inference worker (GPU node)
  - role: worker
    labels:
      role: inference
      accelerator: nvidia-gpu
    extraMounts:
      - hostPath: /home/hanta/safety-hanta/videos
        containerPath: /videos
      - hostPath: /home/hanta/safety-hanta/models
        containerPath: /models
      - hostPath: /home/hanta/safety-hanta/src
        containerPath: /src_host
      - hostPath: /run/nvidia
        containerPath: /run/nvidia
      - hostPath: /usr/lib/wsl/lib
        containerPath: /usr/lib/wsl/lib
      - hostPath: /usr/lib/wsl/drivers
        containerPath: /usr/lib/wsl/drivers
      - hostPath: /dev
        containerPath: /dev

  # Generic worker (can host Redis, RTSPâ€‘sim, etc.)
  - role: worker
    labels:
      role: simulation
    extraMounts:
      - hostPath: /home/hanta/safety-hanta/videos
        containerPath: /videos